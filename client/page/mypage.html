<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>carryAll_마이페이지</title>
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="../css/admin.css">
  <link rel="stylesheet" href="../css/mypage.css">
</head>
<body>
  <div class="header" style="height: 0px; width: 1902px; display: flex; align-items: center;"></div>
  <div class="header" style="height: 60px; width: 1902px; display: flex; align-items: center;background-color: white;">
    <h1 style="margin-right: 50px; font-family:Roboto; font-weight: 700; font-style: italic; ">carryAll</h1>
    <input class ="inputform" type="text" placeholder="검색" style="height: 50%; padding: 5px; border-radius: 5px; margin-right: 50px;">
    <button style="height: 50%; margin-right: 10px; background-color:white; border: white; font-size: 1.2em; font-weight: bold">장바구니</button>
    <button style="height: 50%; margin-right: 10px; background-color:white; border: white; font-size: 1.2em; font-weight: bold;">로그인</button>
    <button style="height: 50%; margin-right: 10px; background-color:white; border: white; font-size: 1.2em; font-weight: bold;">마이페이지</button>
    <button style="height: 50%; background-color:white; border: white; font-size: 1.2em; font-weight: bold;">회원가입</button>
  </div>

  
  <main class="mypage">
    <section class="container">
      <h2>마이페이지</h2>
      <div class="profileWrap">
        <div class="profileImg"><img src="" alt=""></div>
        <div class="profileTxt">
          <h4 class="nameId"><span class="localName">엘리스</span> 님</h4>
          <p class="nameDesc"><span class="localName">엘리스</span> 님의 아이디는 <span class="localIdName">silver</span>입니다.<br></p>
        </div>
        <div class="btnWrap"><a class="profileBtn" href="#">회원정보 변경</a></div>
      </div>

      <div class="contWrap">
        <!-- 왼쪽 nav menu -->
        <ul class="navCont">
          <li class="navTit n1">쇼핑정보</li>
          <li><a href="#">주문/배송조회</a></li>
          <li><a href="#">취소/반품/교환내역</a></li>
          <li><a href="#">장바구니</a></li>
          <li class="navTit">혜택관리</li>
          <li><a class="develop" href="#">쿠폰(준비중)</a></li>
          <li class="navTit">고객센터</li>
          <li><a class="develop" href="#">1:1 문의(준비중)</a></li>
          <li class="navTit">회원정보</li>
          <li><a href="./loginChange.html">회원정보변경</a></li>
          <li><a href="./loginWithdraw.html">회원탈퇴</a></li>
          <li><a class="logout" href="./main.html">로그아웃</a></li>
          <li><a class="develop" href="#">배송지관리(준비중)</a></li>
        </ul>

        <!-- 오른쪽 해당 컨텐츠 -->
        <div class="mainCont">
          <div class="infoCont">
            <h3>배송 조회</h3>
            <ul class="shipBox">
              <li>
                <h6>0</h6>
                <p>결제완료</p>
              </li>
              <li>
                <h6>0</h6>
                <p>상품준비중</p>
              </li>
              <li>
                <h6>0</h6>
                <p>배송중</p>
              </li>
              <li>
                <h6>1</h6>
                <p>배송완료</p>
              </li>
            </ul>
            <ul class="shippedBox">
              <li>취소 내역 : <span>0</span></li>
              <li>교환 내역 : <span>0</span></li>
              <li>반품 내역 : <span>0</span></li>
            </ul>
          </div>
  
          <div class="infoCont">
            <h3>주문 조회</h3>
            
          </div>
        </div>
      </div>
    </section>
  </main>
  
  <script src="../js/admin.js"></script>
  <script>

    // 1. localStorage 의 user 정보 반영하기
    document.addEventListener("DOMContentLoaded", function() {
      const loggedInUser = localStorage.getItem("loggedInUser");
      if (loggedInUser) {
        const user = JSON.parse(loggedInUser);
        const localNameElement = document.querySelectorAll(".localName");
        const localIdNameElement = document.querySelector(".localIdName");
        localNameElement.forEach(function(element) {
          if (user.name) {
            element.textContent = user.name;
          }
        });
        if (user.username) {
          localIdNameElement.textContent = user.username;
        }
      }


      // 2. 로그아웃 - localStorage 의 user 정보 삭제 후 메인 이동
      const logoutLink = document.querySelector("a.logout");

      if (loggedInUser) {
        const user = JSON.parse(loggedInUser);
        const localNameElement = document.querySelectorAll(".localName");
        const localIdNameElement = document.querySelector(".localIdName");

        localNameElement.forEach(function(element) {
          if (user.name) {
            element.textContent = user.name;
          }
        });

        if (user.username) {
          localIdNameElement.textContent = user.username;
        }

        logoutLink.addEventListener("click", function(event) {
          event.preventDefault();
          localStorage.removeItem("loggedInUser");
          window.location.href = "./main.html";
        });
      }

    });

    // 3. 고도화 기능 closing alert
    const developLinks = document.querySelectorAll(".develop");
    developLinks.forEach(function(link) {
      link.addEventListener("click", function(event) {
        event.preventDefault();
        alert("해당 기능은 준비중입니다.");
      });
    });
  </script>
</body>
</html>